<!DOCTYPE html>
<html lang="tr" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Siparis Detay - Legends DXP Admin</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.gstatic.com/s/indieflower/v21/m8JVjfNVeKWVnh3QMuKkFcZlbkGG1dKEDw.woff2" as="font" type="font/woff2" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=block" rel="stylesheet">
  <style>
    /* Font loading - hide content until font is ready */
    .fonts-loading { opacity: 0; }
    .fonts-loaded { opacity: 1; transition: opacity 0.1s ease-in; }
  </style>
  <script>
    // Font loading detection
    document.documentElement.classList.add('fonts-loading');
    if (document.fonts && document.fonts.ready) {
      document.fonts.ready.then(() => {
        document.documentElement.classList.remove('fonts-loading');
        document.documentElement.classList.add('fonts-loaded');
      });
    } else {
      // Fallback for older browsers
      window.addEventListener('load', () => {
        document.documentElement.classList.remove('fonts-loading');
        document.documentElement.classList.add('fonts-loaded');
      });
    }
  </script>
  <link rel="stylesheet" href="../../../dist/output.css">
  <script src="../../wireframe/js/icons.js"></script>
  <script src="../../wireframe/js/layout-components.js"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const theme = urlParams.get('theme') || 'teal';
    document.documentElement.classList.add('theme-' + theme);
  </script>
</head>
<body class="min-h-screen wireframe-page" x-data="{
  sidebarOpen: true,
  mobileMenu: false,
  showCancelModal: false,
  showRefundModal: false,
  showRescheduleModal: false,
  mobileActionsOpen: false,
  mobileHistoryOpen: false
}">

  <div class="flex min-h-screen">
    <!-- Sidebar Component -->
    <div data-component="sidebar"></div>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col">
      <!-- Header Component -->
      <div data-component="header"></div>

    <!-- Page Content -->
    <main class="p-6 flex-1">
      <!-- Page Header with Search -->
      <div class="wf-card mb-6">
        <div class="flex flex-col sm:flex-row gap-4">
          <div class="flex-1">
            <label class="block text-sm font-medium mb-1">PNR ile Siparis Ara</label>
            <div class="flex gap-2">
              <input type="text" class="wf-input flex-1" placeholder="PNR-2026-XXXXXX" value="PNR-2026-ABC123">
              <button class="wf-btn wf-btn-primary">Ara</button>
            </div>
          </div>
          <div class="flex items-end">
            <p class="text-sm text-gray-500">Son Arananlar: PNR-2026-XYZ789, PNR-2026-DEF456</p>
          </div>
        </div>
      </div>

      <!-- Order Header -->
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
        <div class="flex items-center gap-4">
          <h1 class="text-3xl">PNR-2026-ABC123</h1>
          <span class="wf-badge wf-badge-success text-base px-3 py-1">Onaylandi</span>
        </div>
        <div class="text-gray-500">
          Siparis Tarihi: 08 Ocak 2026, 14:32
        </div>
      </div>

      <!-- Content Grid -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

        <!-- Sol Kolon (2/3) -->
        <div class="lg:col-span-2 space-y-6">

          <!-- Musteri Bilgileri -->
          <div class="wf-card">
            <h2 class="text-xl mb-4 pb-2 border-b-2 border-gray-300">Musteri Bilgileri</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div>
                <p class="text-sm text-gray-500">Ad Soyad</p>
                <p class="font-medium">Ahmet Yilmaz</p>
              </div>
              <div>
                <p class="text-sm text-gray-500">Telefon</p>
                <p class="font-medium">+90 532 123 45 67</p>
              </div>
              <div>
                <p class="text-sm text-gray-500">E-posta</p>
                <p class="font-medium">ahmet.yilmaz@email.com</p>
              </div>
              <div>
                <p class="text-sm text-gray-500">TC Kimlik</p>
                <p class="font-medium">123****7890</p>
              </div>
            </div>
          </div>

          <!-- Biletler -->
          <div class="wf-card">
            <h2 class="text-xl mb-4 pb-2 border-b-2 border-gray-300">Biletler</h2>
            <div class="space-y-4">
              <!-- Bilet 1 -->
              <div class="border-2 border-gray-300 rounded p-4">
                <div class="flex justify-between items-start mb-2">
                  <div>
                    <h3 class="font-medium">Gunluk Giris Bileti</h3>
                    <span class="wf-badge wf-badge-primary text-xs">Gunluk</span>
                  </div>
                  <div class="text-right">
                    <p class="font-medium">1,500 TL</p>
                  </div>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 text-sm mt-3">
                  <div>
                    <span class="text-gray-500">Tarih:</span>
                    <p>15 Temmuz 2026</p>
                  </div>
                  <div>
                    <span class="text-gray-500">Yetiskin:</span>
                    <p>2 kisi</p>
                  </div>
                  <div>
                    <span class="text-gray-500">Cocuk:</span>
                    <p>1 kisi</p>
                  </div>
                  <div>
                    <span class="text-gray-500">Bebek:</span>
                    <p>0 kisi</p>
                  </div>
                </div>
              </div>

              <!-- Bilet 2 (Slot) -->
              <div class="border-2 border-gray-300 rounded p-4">
                <div class="flex justify-between items-start mb-2">
                  <div>
                    <h3 class="font-medium">Su Parki Girisi</h3>
                    <span class="wf-badge wf-badge-slot text-xs">Slot</span>
                  </div>
                  <div class="text-right">
                    <p class="font-medium">900 TL</p>
                  </div>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 text-sm mt-3">
                  <div>
                    <span class="text-gray-500">Tarih:</span>
                    <p>15 Temmuz 2026</p>
                  </div>
                  <div>
                    <span class="text-gray-500">Saat:</span>
                    <p class="font-medium text-orange-600">14:00 - 16:00</p>
                  </div>
                  <div>
                    <span class="text-gray-500">Kisi:</span>
                    <p>3 kisi</p>
                  </div>
                  <div>
                    <span class="text-gray-500">Sure:</span>
                    <p>2 saat</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Eklentiler -->
          <div class="wf-card">
            <h2 class="text-xl mb-4 pb-2 border-b-2 border-gray-300">Eklentiler</h2>
            <div class="space-y-3">
              <div class="flex justify-between items-center py-2 border-b border-gray-200">
                <div class="flex items-center gap-3">
                  <span class="wf-badge wf-badge-parking text-xs">P</span>
                  <span>Otopark - Tam Gun</span>
                </div>
                <span class="font-medium">150 TL</span>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-gray-200">
                <div class="flex items-center gap-3">
                  <span class="wf-badge wf-badge-locker text-xs">L</span>
                  <span>Dolap - Buyuk (L) x2</span>
                </div>
                <span class="font-medium">150 TL</span>
              </div>
              <div class="flex justify-between items-center py-2">
                <div class="flex items-center gap-3">
                  <span class="wf-badge wf-badge-equipment text-xs">E</span>
                  <span>Simidi Kiralama x3</span>
                </div>
                <span class="font-medium">150 TL</span>
              </div>
            </div>
          </div>

          <!-- Odeme Bilgileri -->
          <div class="wf-card">
            <h2 class="text-xl mb-4 pb-2 border-b-2 border-gray-300">Odeme Bilgileri</h2>
            <div class="space-y-2">
              <div class="flex justify-between">
                <span class="text-gray-500">Bilet Toplami</span>
                <span>2,400 TL</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500">Eklenti Toplami</span>
                <span>450 TL</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500">Ara Toplam</span>
                <span>2,850 TL</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500">KDV (%10)</span>
                <span>285 TL</span>
              </div>
              <div class="wf-divider my-2"></div>
              <div class="flex justify-between text-xl font-medium">
                <span>Toplam</span>
                <span>3,135 TL</span>
              </div>
              <div class="wf-divider my-2"></div>
              <div class="flex justify-between text-sm">
                <span class="text-gray-500">Odeme Yontemi</span>
                <span>Kredi Karti (**** 4567)</span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="text-gray-500">Islem Tarihi</span>
                <span>08 Ocak 2026, 14:35</span>
              </div>
              <div class="flex justify-between text-sm">
                <span class="text-gray-500">Islem ID</span>
                <span>TXN-2026-789456</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Sag Kolon (1/3) - Desktop -->
        <div class="space-y-6 hidden lg:block">

          <!-- Aksiyonlar -->
          <div class="wf-card">
            <h2 class="text-xl mb-4 pb-2 border-b-2 border-gray-300">Aksiyonlar</h2>
            <div class="space-y-3">
              <button @click="showRescheduleModal = true" class="wf-btn wf-btn-info w-full justify-center">
                <span class="wf-icon mr-1" data-icon="calendar-grid" data-size="16"></span> Tarih/Saat Degistir
              </button>
              <button @click="showRefundModal = true" class="wf-btn wf-btn-warning w-full justify-center">
                <span class="wf-icon mr-1" data-icon="money-bag" data-size="16"></span> Iade Baslat
              </button>
              <button @click="showCancelModal = true" class="wf-btn wf-btn-danger w-full justify-center">
                <span class="wf-icon mr-1" data-icon="remove-delete-sign-bold" data-size="16"></span> Iptal Et
              </button>
            </div>
            <div class="mt-4 pt-4 border-t-2 border-gray-300">
              <button class="wf-btn w-full justify-center text-sm">
                <span class="wf-icon mr-1" data-icon="send-email-fly" data-size="16"></span> E-posta Gonder
              </button>
              <button class="wf-btn w-full justify-center text-sm mt-2">
                <span class="wf-icon mr-1" data-icon="print-text" data-size="16"></span> Yazdir
              </button>
            </div>
          </div>

          <!-- Islem Gecmisi -->
          <div class="wf-card">
            <h2 class="text-xl mb-4 pb-2 border-b-2 border-gray-300">Islem Gecmisi</h2>
            <div class="wf-timeline">
              <div class="wf-timeline-item success">
                <div class="wf-timeline-dot"></div>
                <div class="wf-timeline-content">
                  <div class="wf-timeline-title">Siparis Onaylandi</div>
                  <div class="wf-timeline-time">08 Oca 2026, 14:35</div>
                  <div class="wf-timeline-description">Odeme basarili</div>
                </div>
              </div>

              <div class="wf-timeline-item info">
                <div class="wf-timeline-dot"></div>
                <div class="wf-timeline-content">
                  <div class="wf-timeline-title">Odeme Islendi</div>
                  <div class="wf-timeline-time">08 Oca 2026, 14:34</div>
                  <div class="wf-timeline-description">Kredi karti ile</div>
                </div>
              </div>

              <div class="wf-timeline-item info">
                <div class="wf-timeline-dot"></div>
                <div class="wf-timeline-content">
                  <div class="wf-timeline-title">Siparis Olusturuldu</div>
                  <div class="wf-timeline-time">08 Oca 2026, 14:32</div>
                  <div class="wf-timeline-description">Web sitesi uzerinden</div>
                </div>
              </div>
            </div>
          </div>

          <!-- QR Kod -->
          <div class="wf-card text-center">
            <h2 class="text-xl mb-4 pb-2 border-b-2 border-gray-300">Giris QR Kodu</h2>
            <div class="border-2 border-gray-400 rounded p-4 inline-block bg-white">
              <div class="w-32 h-32 bg-gray-200 flex items-center justify-center text-4xl">
                üì±
              </div>
            </div>
            <p class="text-sm text-gray-500 mt-2">QR kod giris kapisi icin</p>
          </div>

        </div>

        <!-- Mobile Sidebar Content - Accordion Style -->
        <div class="lg:hidden space-y-4">

          <!-- Mobile Quick Summary -->
          <div class="wf-card bg-gray-50">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-sm text-gray-500">Toplam Tutar</div>
                <div class="text-2xl font-medium">3,135 TL</div>
              </div>
              <div class="text-center">
                <div class="border-2 border-gray-400 rounded p-2 bg-white">
                  <div class="w-16 h-16 bg-gray-200 flex items-center justify-center text-2xl">üì±</div>
                </div>
                <p class="text-xs text-gray-500 mt-1">QR Kod</p>
              </div>
            </div>
          </div>

          <!-- Aksiyonlar Accordion -->
          <div class="wf-card">
            <button
              @click="mobileActionsOpen = !mobileActionsOpen"
              class="w-full flex items-center justify-between py-2"
            >
              <h2 class="text-lg font-medium">Aksiyonlar</h2>
              <span class="text-xl transition-transform" :class="{ 'rotate-180': mobileActionsOpen }">‚ñº</span>
            </button>
            <div x-show="mobileActionsOpen" x-collapse class="pt-4 border-t border-gray-200 mt-2">
              <div class="grid grid-cols-2 gap-2">
                <button @click="showRescheduleModal = true" class="wf-btn wf-btn-info justify-center text-sm py-3">
                  <span class="wf-icon" data-icon="calendar-grid" data-size="16"></span> Tarih
                </button>
                <button @click="showRefundModal = true" class="wf-btn wf-btn-warning justify-center text-sm py-3">
                  <span class="wf-icon mr-1" data-icon="money-bag" data-size="16"></span> Iade Baslat
                </button>
                <button @click="showCancelModal = true" class="wf-btn wf-btn-danger justify-center text-sm py-3">
                  <span class="wf-icon mr-1" data-icon="remove-delete-sign-bold" data-size="16"></span> Iptal Et
                </button>
                <button class="wf-btn justify-center text-sm py-3">
                  <span class="wf-icon" data-icon="send-email-fly" data-size="16"></span> E-posta
                </button>
              </div>
            </div>
          </div>

          <!-- Islem Gecmisi Accordion -->
          <div class="wf-card">
            <button
              @click="mobileHistoryOpen = !mobileHistoryOpen"
              class="w-full flex items-center justify-between py-2"
            >
              <h2 class="text-lg font-medium">Islem Gecmisi</h2>
              <span class="text-xl transition-transform" :class="{ 'rotate-180': mobileHistoryOpen }">‚ñº</span>
            </button>
            <div x-show="mobileHistoryOpen" x-collapse class="pt-4 border-t border-gray-200 mt-2">
              <div class="wf-timeline">
                <div class="wf-timeline-item success">
                  <div class="wf-timeline-dot"></div>
                  <div class="wf-timeline-content">
                    <div class="wf-timeline-title">Siparis Onaylandi</div>
                    <div class="wf-timeline-time">08 Oca 2026, 14:35</div>
                  </div>
                </div>
                <div class="wf-timeline-item info">
                  <div class="wf-timeline-dot"></div>
                  <div class="wf-timeline-content">
                    <div class="wf-timeline-title">Odeme Islendi</div>
                    <div class="wf-timeline-time">08 Oca 2026, 14:34</div>
                  </div>
                </div>
                <div class="wf-timeline-item info">
                  <div class="wf-timeline-dot"></div>
                  <div class="wf-timeline-content">
                    <div class="wf-timeline-title">Siparis Olusturuldu</div>
                    <div class="wf-timeline-time">08 Oca 2026, 14:32</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- Annotation Note -->
      <div class="wf-note mt-6">
        üìù Not: Siparis detay sayfasi. Sol kolon bilgiler, sag kolon aksiyonlar ve gecmis.
        Modaller icin butonlara tiklayin.
      </div>
    </main>
    </div>
  </div>

  <!-- MODALS -->

  <!-- Cancel Modal -->
  <div x-show="showCancelModal" class="fixed inset-0 z-50 flex items-center justify-center p-0 lg:p-4" style="display: none;">
    <div class="fixed inset-0 bg-black/50 hidden lg:block" @click="showCancelModal = false"></div>
    <div class="wf-card relative z-10 w-full h-full lg:h-auto lg:max-w-md lg:rounded-lg rounded-none flex flex-col">
      <!-- Modal Header -->
      <div class="flex items-center justify-between mb-4 pb-2 border-b-2 border-gray-300">
        <h2 class="text-xl">Bilet Iptali</h2>
        <button @click="showCancelModal = false" class="lg:hidden p-2 -mr-2 text-gray-500 hover:text-gray-700 text-xl"><span class="wf-icon" data-icon="remove-delete-sign-bold" data-size="20"></span></button>
      </div>

      <!-- Modal Content -->
      <div class="flex-1 overflow-y-auto lg:overflow-visible space-y-4">
        <div class="wf-form-group">
          <label class="block text-sm font-medium mb-1">Iptal Nedeni *</label>
          <select class="wf-select">
            <option>Secin...</option>
            <option>Musteri Talebi</option>
            <option>Teknik Sorun</option>
            <option>Odeme Problemi</option>
            <option>Diger</option>
          </select>
        </div>

        <div class="wf-form-group">
          <label class="block text-sm font-medium mb-1">Aciklama</label>
          <textarea class="wf-textarea" rows="3" placeholder="Iptal aciklamasi..."></textarea>
        </div>

        <div class="wf-alert wf-alert-error">
          <strong>Uyari:</strong> Bu islem geri alinamaz. Iptal edilen biletler tekrar aktif edilemez.
        </div>
      </div>

      <!-- Modal Footer -->
      <div class="flex flex-col-reverse lg:flex-row lg:justify-end gap-3 mt-6 pt-4 border-t-2 border-gray-300">
        <button @click="showCancelModal = false" class="wf-btn w-full lg:w-auto justify-center">Vazgec</button>
        <button class="wf-btn wf-btn-danger w-full lg:w-auto justify-center">
          Iptal Et
        </button>
      </div>
    </div>
  </div>

  <!-- Refund Modal -->
  <div x-show="showRefundModal" class="fixed inset-0 z-50 flex items-center justify-center p-0 lg:p-4" style="display: none;">
    <div class="fixed inset-0 bg-black/50 hidden lg:block" @click="showRefundModal = false"></div>
    <div class="wf-card relative z-10 w-full h-full lg:h-auto lg:max-w-md lg:rounded-lg rounded-none flex flex-col">
      <!-- Modal Header -->
      <div class="flex items-center justify-between mb-4 pb-2 border-b-2 border-gray-300">
        <h2 class="text-xl">Iade Islemi</h2>
        <button @click="showRefundModal = false" class="lg:hidden p-2 -mr-2 text-gray-500 hover:text-gray-700 text-xl"><span class="wf-icon" data-icon="remove-delete-sign-bold" data-size="20"></span></button>
      </div>

      <!-- Modal Content -->
      <div class="flex-1 overflow-y-auto lg:overflow-visible space-y-4">
        <div class="wf-form-group">
          <label class="block text-sm font-medium mb-2">Iade Tipi</label>
          <div class="wf-radio-group">
            <label class="flex items-center gap-2">
              <input type="radio" name="refund_type" class="wf-radio" checked>
              <span>Tam Iade (3,135 TL)</span>
            </label>
            <label class="flex items-center gap-2">
              <input type="radio" name="refund_type" class="wf-radio">
              <span>Kismi Iade</span>
            </label>
          </div>
        </div>

        <div class="wf-form-group">
          <label class="block text-sm font-medium mb-1">Iade Tutari (TL)</label>
          <input type="number" class="wf-input" value="3135" max="3135">
          <p class="wf-form-help">Maksimum: 3,135 TL</p>
        </div>

        <div class="wf-form-group">
          <label class="block text-sm font-medium mb-1">Iade Nedeni *</label>
          <select class="wf-select">
            <option>Secin...</option>
            <option>Musteri Talebi</option>
            <option>Hizmet Verilememesi</option>
            <option>Fiyat Farki</option>
            <option>Diger</option>
          </select>
        </div>
      </div>

      <!-- Modal Footer -->
      <div class="flex flex-col-reverse lg:flex-row lg:justify-end gap-3 mt-6 pt-4 border-t-2 border-gray-300">
        <button @click="showRefundModal = false" class="wf-btn w-full lg:w-auto justify-center">Vazgec</button>
        <button class="wf-btn wf-btn-warning w-full lg:w-auto justify-center">
          Iade Baslat
        </button>
      </div>
    </div>
  </div>

  <!-- Reschedule Modal -->
  <div x-show="showRescheduleModal" class="fixed inset-0 z-50 flex items-center justify-center p-0 lg:p-4" style="display: none;">
    <div class="fixed inset-0 bg-black/50 hidden lg:block" @click="showRescheduleModal = false"></div>
    <div class="wf-card relative z-10 w-full h-full lg:h-auto lg:max-w-lg lg:rounded-lg rounded-none flex flex-col">
      <!-- Modal Header -->
      <div class="flex items-center justify-between mb-4 pb-2 border-b-2 border-gray-300">
        <h2 class="text-xl">Tarih/Saat Degisikligi</h2>
        <button @click="showRescheduleModal = false" class="lg:hidden p-2 -mr-2 text-gray-500 hover:text-gray-700 text-xl"><span class="wf-icon" data-icon="remove-delete-sign-bold" data-size="20"></span></button>
      </div>

      <!-- Modal Content -->
      <div class="flex-1 overflow-y-auto lg:overflow-visible space-y-4">
        <!-- Mevcut -->
        <div class="border-2 border-gray-300 rounded p-3 bg-gray-50">
          <p class="text-sm text-gray-500 mb-1">Mevcut Tarih/Saat</p>
          <p class="font-medium">15 Temmuz 2026, 14:00 - 16:00</p>
        </div>

        <!-- Yeni Tarih -->
        <div class="wf-form-group">
          <label class="block text-sm font-medium mb-1">Yeni Tarih *</label>
          <input type="date" class="wf-input" value="2026-07-20">
        </div>

        <!-- Yeni Slot -->
        <div class="wf-form-group">
          <label class="block text-sm font-medium mb-1">Yeni Slot *</label>
          <select class="wf-select">
            <option>10:00 - 12:00 (Musait)</option>
            <option>12:00 - 14:00 (Musait)</option>
            <option selected>14:00 - 16:00 (Musait)</option>
            <option>16:00 - 18:00 (Az Kaldi)</option>
          </select>
        </div>

        <!-- Fiyat Farki -->
        <div class="wf-alert wf-alert-success">
          <strong>Fiyat Farki:</strong> Ucret farki yok
        </div>
      </div>

      <!-- Modal Footer -->
      <div class="flex flex-col-reverse lg:flex-row lg:justify-end gap-3 mt-6 pt-4 border-t-2 border-gray-300">
        <button @click="showRescheduleModal = false" class="wf-btn w-full lg:w-auto justify-center">Vazgec</button>
        <button class="wf-btn wf-btn-primary w-full lg:w-auto justify-center">Degisikligi Uygula</button>
      </div>
    </div>
  </div>

  <!-- Floating Toolbar & Comments -->
  <!-- Tool UI -->
  <script src="../../tool/js/tool-icons.js"></script>
  <script src="../../tool/js/toolbar.js"></script>
  <script src="../../tool/js/comments.js"></script>

</body>
</html>
